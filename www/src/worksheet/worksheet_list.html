<ion-view canClickEnterListMode id="worksheetlist-view"  align-title="center">
	<ion-header-bar align-title="center" class="bar-positive" ng-class="{'query-mode':config.isQueryMode}">
		<div class="left-back" ng-click="goBack();">
			<i class="ion-ios-arrow-back"></i>
		</div>
		<div class="title" canClickEnterListMode ng-click="clickEnterListMode($event);">服务工单列表</div>
        <div class="buttons right" ng-class="{'right-buttons-actives':config.isQueryMode}" style="transition: width .3s linear 0s;">
            <div class="search-header-bar">
                    <div class="button button-clear right search" ng-click="clickHeadTopSearchIcon();">
                        <i class="icon ion-ios-search-strong"></i>
                    </div>
                    <input class="search-input" type="text" ng-change="onSearchTextChangeFromHeaderBar($event);" ng-model="config.searchText" placeholder="{{config.searchPlaceholder}}">
                <div class="cancle-search-mode" ng-click="enterListMode();">
                    <span>取消</span>
                </div>
            </div>
        </div>
	</ion-header-bar>
    <div class="search-hearder-bar"></div>
    <ion-content  class="" style="" scroll="false" has-bouncing="false">
    	<div  class="search-box-wrapper fill-width" canClickEnterListMode ng-click="clickEnterListMode($event);">
    		<div class="search-box">
	            <i class="icon ion-ios-search-strong"></i>
	            <input ng-model="config.searchText" ng-change="onSearchTextChange($event);" type="text" placeholder="{{config.searchPlaceholder}}">
	        </div>
    	</div>
        
    	<div class="tab-buttons-line">
    		<div class="tab-button-block" ng-class="{'selected':config.isSorteMode}" ng-click="enterSorteMode();">
    			<span>排 序</span>
    			<i class="icon ion-arrow-down-b"></i>
    		</div>
    		<div class="tab-button-block" ng-class="{'selected':config.isFilterMode}" ng-click="enterFilterMode();">
    			<span>筛 选</span>
    			<i class="icon ion-arrow-down-b"></i>
    		</div>
    	</div>
        <div class="tab-buttons-line-border" ng-class="{'right-filter':config.isFilterMode,'left-sort':config.isSorteMode}" ></div>
        <div class="tab-buttons-line-border2" ng-class="{'noShowColor':(!config.isFilterMode&&!config.isSorteMode),'right-filter':config.isFilterMode,'left-sort':config.isSorteMode}">
            <div class="left"></div>
            <div class="center"></div>
            <div class="right"></div>
        </div>
        <div class="divs-wrapper animate-fade-slide-in" ng-class="{'show-model':showXbrModel()}" >
                <div canClickEnterListMode class="tab-sort-content" ng-class="{'active':config.isSorteMode}" ng-show="config.isSorteMode" ng-click="clickEnterListMode($event);">
                    <div canClickEnterListMode class="tab-sort-content-inner fill-parent">
                        <div canNotClickEnterListMode class="time-desc sort-type-item" ng-class="{'selected':config.sortedTypeTimeDesc}"  ng-click="sorteTimeDesc();">
                            <span>开始时间倒序</span>
                        </div>
                        <div canNotClickEnterListMode class="time-asc sort-type-item" ng-class="{'selected':config.sortedTypeTimeAes}" ng-click="sorteTimeAes();">
                            <span>开始时间顺序</span>
                        </div>
                        <div canNotClickEnterListMode class="impact-desc sort-type-item" ng-class="{'selected':config.sortedTypeCompactDesc}" ng-click="sorteCompactDesc();">
                            <span>影响程序由高到低</span>
                        </div>
                        <div canNotClickEnterListMode class="none sort-type-item" ng-click="sorteNone();">
                            <span>取消</span>
                        </div>
                    </div>
                </div>
                
                <div canClickEnterListMode class="tab-filter-content" ng-class="{'active':config.isFilterMode}" ng-show="config.isFilterMode" ng-click="clickEnterListMode($event);">
                    <div canClickEnterListMode class="tab-filter-content-inner" style="">
                        <div canNotClickEnterListMode class="filter-time">
                            <div class="filter-time-title filter-title">日期区间</div>
                            <div class="filter-times-start-end">
                                <div class="filter-start-time" ng-bind="config.timeStart"></div>
                                <div class="filter-time-center-line">-</div>
                                <div class="filter-end-time" ng-bind="config.timeEnd"></div>
                            </div>
                        </div>
                        <div canNotClickEnterListMode class="filter-worksheet-type">
                            <div class="filter-worksheet-type-title filter-title">工单类型</div>
                            <div class="filter-types">
                                <div class="filter-type local-service" ng-click="selectFilterType('localService');" ng-class="{'selected':config.filterLocalService}">现场维修工单</div>
                                <div class="filter-type batch-update" ng-click="selectFilterType('batchUpdate');" ng-class="{'selected':config.filterBatchUpdate}">批量改进工单</div>
                                <div class="filter-type newcar-online" ng-click="selectFilterType('newcarOnline');" ng-class="{'selected':config.filterNewCarOnline}">新车上线工单</div>
                            </div>
                        </div>
                        <div canNotClickEnterListMode class="filter-impact">
                            <div class="filter-impact-title filter-title">影响</div>
                            <div class="filter-impacts">
                                <div class="filter-impact damage" ng-class="{'selected':config.filterImpactDamage}" ng-click="selectFilterImpact('damage');">灾难</div>
                                <div class="filter-impact hight" ng-class="{'selected':config.filterImpactHeight}" ng-click="selectFilterImpact('height');">高</div>
                                <div class="filter-impact middle" ng-class="{'selected':config.filterImpactMiddle}" ng-click="selectFilterImpact('middle');">中</div>
                                <div class="filter-impact low" ng-class="{'selected':config.filterImpactLow}" ng-click="selectFilterImpact('low');">低</div>
                                <div class="filter-impact none" ng-class="{'selected':config.filterImpactNone}" ng-click="selectFilterImpact('none');">无</div>
                            </div>
                        </div>
                        <div canNotClickEnterListMode class="filter-action-buttons">
                            <div class="filter-action-button reset" ng-click="resetFilters();">重置</div>
                            <div class="filter-action-button confirm" ng-click="filterConfirm();">确认</div>
                        </div>
                    </div>
                </div>
                
                
                <div class="worksheet-query-result fill-parent"><!-- ng-show="config.isSorteMode" -->
                    <ion-scroll class="fill-parent" on-refresh="" has-bouncing="false">
                        <div class="list">
                            <div class="item" ng-repeat="item in datas.testDates">
                                <div class="left">
                                    <span></span>
                                </div>
                                <div class="right">
                                    <div class="category" ng-bind="item.category"></div>
                                    <div class="time">
                                        <span class="start" ng-bind="item.timeStart"></span>
                                        <span class="line">-</span>
                                        <span class="end" ng-bind="item.timeEnd"></span>
                                    </div>
                                    <div class="desc" ng-bind="item.desc"></div>
                                </div>
                            </div>         
                        </div>
                    </ion-scroll>                    
                </div>
                <div canClickEnterListMode class="divs-wrapper-bg" ng-if="config.isSorteMode || config.isFilterMode" ng-click="clickEnterListMode($event);"></div>
        </div>


    	
        

    </ion-content>
</ion-view>